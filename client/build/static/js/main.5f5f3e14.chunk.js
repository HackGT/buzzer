(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,n){},147:function(e,t,n){},183:function(e,t,n){},231:function(e,t,n){e.exports=n(394)},394:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(49),c=n.n(s),r=(n(146),n(96)),i=n(41),l=n(221),u=n(36),m=n(37),h=n(40),p=n(38),g=n(39),v=n(30),d=n(401),f=[{key:"0",text:"Live Site",value:"live_site"},{key:"1",text:"Twitter",value:"twitter"},{key:"2",text:"Twilio",value:"twilio"},{key:"3",text:"Slack",value:"slack"},{key:"4",text:"Mobile",value:"f_c_m"},{key:"5",text:"MapGT",value:"map_g_t"}],C=(n(147),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(d.a,{className:"dropdownCustom",name:"droppy",compact:!0,placeholder:"Select Client",onChange:function(t,n){var a=n.value;return e.props.onClientChange(a)},fluid:!0,multiple:!0,selection:!0,options:f})}}]),t}(a.Component)),b=n(402),E=n(399),O=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.config,n=this.props.selectedClients.map(function(n){return o.a.createElement("div",null,o.a.createElement(b.a,{as:"h3"},n.charAt(0).toUpperCase()+n.slice(1).replace("_","")),Object.keys(e.props.config[n]).map(function(a){switch(t[n][a]){case"string":return o.a.createElement(E.a,{className:"inputCustom",placeholder:a,onChange:function(t,o){var s=o.value;return e.props.onConfigChange(s,a,n)}});case"boolean":return o.a.createElement(d.a,{placeholder:""+a,className:"dropdownCustom",compact:!0,fluid:!0,selection:!0,options:[{key:"0",text:"True",value:!0},{key:"1",text:"False",value:!1}],onChange:function(t,o){var s=o.value;return e.props.onConfigChange(s,a,n)}});case"string-array":return o.a.createElement(E.a,{className:"inputCustom",placeholder:"Input all "+a,onChange:function(t,o){var s=o.value;return e.props.onConfigChange(s.split(","),a,n)}})}}))});return console.log(n),o.a.createElement("div",null,n)}}]),t}(a.Component),j=n(141),k=n(102),y=(n(183),n(140)),w=n.n(y),S=function(e){function t(){var e;Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).handleClick=function(){e.setState({modal_open:!1}),w.a.save("BUZZER_TOKEN",e.state.token,{path:"/"}),e.props.onCookieSet(e.state.token)};var n=w.a.load("BUZZER_TOKEN");return e.state={modal_open:!n},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(j.a,{onClick:function(){e.setState({modal_open:!0})}}," Enter Buzzer Token "),o.a.createElement(k.a,{open:this.state.modal_open},o.a.createElement(k.a.Header,null,"Enter Buzzer Secret"),o.a.createElement(k.a.Content,null,o.a.createElement(E.a,{className:"inputCustom",placeholder:"Buzzer Secret",onChange:function(t,n){var a=n.value;return e.setState({token:a})}}),o.a.createElement(j.a,{content:"Submit",onClick:this.handleClick}))))}}]),t}(a.Component),_={live_site:{title:"string",icon:"string"},slack:{channels:"string-array",at_channel:"boolean",at_here:"boolean"},twilio:{numbers:"string-array",groups:"string-array"},twitter:{_:"boolean"},f_c_m:{header:"string",tags:"string"},map_g_t:{area:"string",title:"string",time:"string"}},N=n(400),z=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).state={clients:[]},e.onDataChange=e.onDataChange.bind(Object(v.a)(Object(v.a)(e))),e.onConfigChange=e.onConfigChange.bind(Object(v.a)(Object(v.a)(e))),e.close=e.close.bind(Object(v.a)(Object(v.a)(e))),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(S,{onCookieSet:function(t){e.setState({buzzer_secret:t})}}),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(b.a,{as:"h1"},"Buzzer UI"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(C,{onClientChange:function(t){e.setState(function(e){return{clients:Object(l.a)(t)}})}}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(E.a,{className:"inputCustom",placeholder:"Message",onChange:function(t,n){var a=n.value;return e.setState({message:a})}}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(O,{config:_||{},selectedClients:this.state.clients||[],onConfigChange:this.onConfigChange}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(j.a,{content:"Submit",onClick:function(t,n){n.value;return e.onSendNotification()}}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(N.a,{open:this.state.open,onCancel:this.close,onConfirm:this.close,content:'Message: "'+this.state.message+'" sent to '+this.state.clients}))))}},{key:"close",value:function(){this.setState({open:!1})}},{key:"onSendNotification",value:function(){!function(e,t,n,a){var o=t.map(function(e){return console.log("client:!"),console.log(e),Object(i.a)({},e,Object(r.a)({},n))});console.log("schema"),console.log(o);var s={};o.map(function(e){var t=Object.keys(e)[0];s[t]=e[t]}),console.log(s),fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Basic "+a},body:JSON.stringify({query:"query send_message($message:String!, $plugins:PluginMaster!) {\n  send_message(message: $message, plugins: $plugins) {\n    plugin\n    errors {\n      error\n      message\n    }\n  }\n}",variables:{message:e,plugins:s}})}).then(function(e){return e.json()}).then(function(e){return console.log("Success!",e),!0})}(this.state.message,this.state.clients,this.state[this.state.clients],this.state.buzzer_secret);this.setState({open:!0})}},{key:"onDataChange",value:function(e,t){this.setState(Object(i.a)({},t,e))}},{key:"onConfigChange",value:function(e,t,n){var a=this;console.log(e,t),this.setState(function(o){return Object(i.a)({},n,Object(r.a)({},o[a.state.clients],Object(i.a)({},t,e)))})}}]),t}(a.Component);n(393),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[231,1,2]]]);
//# sourceMappingURL=main.5f5f3e14.chunk.js.map